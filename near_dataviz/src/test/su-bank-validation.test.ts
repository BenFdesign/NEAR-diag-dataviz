/**
 * SCRIPT DE VALIDATION DES IC√îNES SU BANK
 * =======================================
 * 
 * Ce script teste toutes les ic√¥nes Icon1 et Icon2 du fichier Su Bank.json
 * avec le validateur d'ic√¥nes pour identifier les violations de r√®gles.
 */

import { validateAndSanitizeIcon } from '../lib/icon-validator'

// Donn√©es Su Bank extraites pour test
const suBankData = [
  {
    "Id": 0,
    "Name Fr": "Quartier",
    "Icon1": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"128\" height=\"128\"><path fill=\"#ffad5a\" d=\"M46.662 19h33.257v90H46.662z\"/><path fill=\"#f9d16e\" d=\"M46.662 109H25.46V39.599h21.202zM79.92 109h22.619V45.667L79.92 39.599V109z\"/><path fill=\"#fff8e3\" d=\"M53.416 28.482h6.355v6.355h-6.355zM66.811 28.482h6.355v6.355h-6.355zM53.416 41.418h6.355v6.355h-6.355zM66.811 41.418h6.355v6.355h-6.355zM53.416 54.354h6.355v6.355h-6.355zM32.884 47.773h6.355v6.355h-6.355zM32.884 62.151h6.355v6.355h-6.355zM32.884 76.528h6.355v6.355h-6.355zM32.884 90.906h6.355v6.355h-6.355zM66.811 54.354h6.355v6.355h-6.355zM87.051 54.354h8.356v4.312h-8.356zM87.051 68.312h8.356v4.312h-8.356zM87.051 82.27h8.356v4.312h-8.356zM87.051 96.228h8.356v4.312h-8.356zM53.416 67.29h6.355v6.355h-6.355zM66.811 67.29h6.355v6.355h-6.355zM53.416 80.227h6.355v6.355h-6.355zM66.811 80.227h6.355v6.355h-6.355zM53.416 93.163h6.355v6.355h-6.355zM66.811 93.163h6.355v6.355h-6.355z\"/><path d=\"M109 110.75H19a1.75 1.75 0 0 1 0-3.5h90a1.75 1.75 0 0 1 0 3.5z\" fill=\"#2d1f5e\"/></svg>",
    "Icon2": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 11h-3V2a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v5H2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V12a1 1 0 0 0-1-1zm-9 1v9H3V9h10zm1-5H7V3h10v8h-2V8a1 1 0 0 0-1-1zm7 14h-2v-2a1 1 0 0 0-2 0v2h-2v-8h6zM4 10h2v2H4zm4 0h4v2H8zm-4 4h2v2H4zm4 0h4v2H8zm-4 4h2v2H4zm4 0h4v2H8z\"/></svg>"
  },
  {
    "Id": 477,
    "Name Fr": "Myrtille",
    "Icon1": "<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" width=\"2048\" height=\"2048\" style=\"shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd\"><defs><style>.fil4{fill:#373737}.fil3{fill:#3e3e3e}.fil5{fill:#535353}.fil2{fill:#767676}.fil1{fill:#999}.fil0{fill:#707070;fill-rule:nonzero}</style></defs><g id=\"Layer_x0020_1\"><g id=\"_416216928\"><path id=\"_416219568\" class=\"fil0\" d=\"M929.186 897.537c-103.891 15.98-191.788-7.527-263.207-71.683-68.526-61.557-120.134-160.315-154.334-297.344l-12.324-49.38 50.353 7.398c139.732 20.524 243.097 62.144 311.11 124.267 70.884 64.748 102.941 149.9 97.282 254.858l-34.045-1.818 5.164 33.7z\"/><path id=\"_416219304\" class=\"fil0\" d=\"M1216.7 861.536c84.48-62.544 173.205-82.698 266.29-59.209 89.315 22.54 180.992 85.88 275.098 191.19l33.912 37.95-48 16.916c-133.201 46.943-244.053 58.278-333.177 34.997-92.887-24.262-160.925-84.67-204.821-180.178l30.97-14.254-20.272-27.411z\"/><path id=\"_416219520\" class=\"fil1\" d=\"M817.714 705.099c39.957-199.78 234.303-329.344 434.084-289.387 199.78 39.958 329.344 234.304 289.387 434.084-95.165 475.819-818.636 331.122-723.471-144.697z\"/><path id=\"_416219760\" class=\"fil2\" d=\"M1451.7 1033.16c-6.84 7.417-13.896 14.522-21.252 21.154-84.615-69.826-178.775-154.754-284.694-164.301-58.535-5.278-139.734 75.908-214.872 160.91-48.17-40.114-85.87-92.676-105.87-156.26 137.703-229.566 384.656-312.67 499.476-23.987 36.923 92.83 81.247 141.272 127.212 162.484z\"/><circle id=\"_416219496\" class=\"fil3\" transform=\"rotate(-168.689 551 349.16) scale(1.12143)\" r=\"81.553\"/><path id=\"_416219592\" class=\"fil4\" d=\"M961.775 861.008c-25.315-14.778 12.632 83.597 42.302 86.49 29.67 2.894 92.888-85.507 65.147-76.014-37.407 12.801-73.24 9.494-107.45-10.476z\"/><path id=\"_416218512\" class=\"fil4\" d=\"M937.32 777.851c.223-29.126-57.252 56.016-46.696 82.302 10.554 26.286 103.93 30.828 84.919 12.889-25.637-24.189-38.524-55.83-38.223-95.191z\"/><circle id=\"_416218560\" class=\"fil5\" transform=\"matrix(-.32892 -.06579 .06579 -.32892 1022.82 799.602)\" r=\"81.553\"/><g><path id=\"_416218656\" d=\"M1599.7 1270.62c0 203.738-165.162 368.9-368.899 368.9s-368.9-165.162-368.9-368.9c0-485.241 737.799-485.241 737.799 0z\" style=\"fill:#6c6c6c\"/><path id=\"_416218944\" class=\"fil2\" d=\"M913.688 1073.27c5.252-8.614 10.778-16.964 16.691-24.91 96.665 51.874 205.654 116.686 311.387 105.275 58.434-6.306 122.133-101.838 179.141-199.928 55.102 29.89 102.38 74.037 134.46 132.463-90.006 252.115-315.866 382.035-485.072 121.48-54.412-83.787-107.375-122.596-156.608-134.38z\"/><circle id=\"_416218896\" class=\"fil3\" cx=\"1380.04\" cy=\"1218.18\" r=\"91.456\"/><path id=\"_416218248\" class=\"fil4\" d=\"M1427.86 1146c27.72 9.527-28.781-79.496-58.443-76.514-29.663 2.982-74.314 102.064-48.974 87.314 34.17-19.887 69.956-23.673 107.417-10.8z\"/><path id=\"_416218008\" class=\"fil4\" d=\"M1468.15 1222.74c5.493 28.604 45.154-66.156 29.648-89.862-15.504-23.705-107.959-9.844-85.798 4.016 29.883 18.69 48.726 47.192 56.15 85.846z\"/><path id=\"_416218200\" class=\"fil4\" d=\"M1410.29 1298.51c-23.92 16.942 81.343 23.055 96.241-2.766 14.9-25.821-39.462-119.927-42.285-90.742-3.808 39.352-21.63 70.613-53.956 93.508z\"/><circle id=\"_416217888\" class=\"fil5\" cx=\"1380.04\" cy=\"1218.18\" r=\"27.356\"/><path id=\"_416218344\" class=\"fil2\" d=\"M1361.46 1390.32c0 116.732-94.24 209.589-160.25 107.942-78.612-121.052-147.444 64.442-131.693-16.502 22.947-117.924 106.397 8.383 184.08 0 48.091-5.189 107.863-208.173 107.863-91.44z\"/></g><g><path id=\"_416217600\" class=\"fil1\" d=\"M596.307 780.498c203.315-13.111 378.764 141.078 391.876 344.393 13.111 203.315-141.079 378.764-344.394 391.876-484.236 31.227-531.717-705.042-47.481-736.269z\"/><path id=\"_416217576\" class=\"fil2\" d=\"M443.508 1477.79c-8.934-4.687-17.623-9.664-25.932-15.053 45.545-99.805 103.21-212.737 85.018-317.517-10.053-57.907-109.487-115.326-211.042-165.905 26.28-56.91 67.294-106.931 123.535-142.706 257.385 73.594 401.572 290.625 152.444 476.248-80.11 59.692-115.43 115.043-124.023 164.933z\"/><circle id=\"_416217408\" class=\"fil3\" transform=\"scale(-1.12143) rotate(86.31 228.16 -712.627)\" r=\"81.553\"/><path id=\"_416217432\" class=\"fil4\" d=\"M482.997 960.001c7.722-28.277-77.48 33.839-72.594 63.247 4.885 29.408 106.635 67.592 90.284 43.252-22.046-32.82-28.126-68.287-17.69-106.5z\"/><path id=\"_416216952\" class=\"fil4\" d=\"M556.991 914.858c28.19-7.324-68.924-40.802-91.584-23.804-22.658 16.997-2.877 108.369 9.53 85.36 16.728-31.022 43.958-51.66 82.054-61.556z\"/><path id=\"_416216256\" class=\"fil4\" d=\"M636.323 967.725c18.445 22.781 17.772-82.657-8.955-95.863-26.726-13.207-117.138 47.098-87.832 48.038 39.516 1.266 71.859 17.04 96.787 47.825z\"/><circle id=\"_416216376\" class=\"fil5\" transform=\"scale(-.33543) rotate(86.31 762.79 -2382.479)\" r=\"81.553\"/><path id=\"_416216328\" class=\"fil2\" d=\"M731.083 1010.54c116.491-7.512 215.221 80.557 118.032 152.972-115.742 86.238 73.798 142.99-7.993 132.482-119.157-15.31 1.52-106.717-11.846-183.699-8.274-47.656-214.683-94.241-98.193-101.754z\"/></g></g></g><path style=\"fill:none\" d=\"M0 0h2048v2048H0z\"/></svg>",
    "Icon2": "<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><defs><style>.cls-1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}</style></defs><path class=\"cls-1\" d=\"M44 31a9 9 0 1 1-16.14-5.47 8.89 8.89 0 0 1 4.28-3.06A8.75 8.75 0 0 1 35 22a9 9 0 0 1 9 9zM16 23l-2 2M16 25l-2-2M22 28a9 9 0 1 1-5.59-8.33h0a9 9 0 0 1 5.18 5.64h0A8.77 8.77 0 0 1 22 28z\"/><path class=\"cls-1\" d=\"M34 17a8.92 8.92 0 0 1-1.86 5.47 8.89 8.89 0 0 0-4.28 3.06A8.75 8.75 0 0 1 25 26a9 9 0 0 1-3.41-.67h0a9 9 0 0 0-5.18-5.64h0A8.77 8.77 0 0 1 16 17a9 9 0 0 1 18 0zM28 12l-2 2M28 14l-2-2M34 25l-2 2M34 27l-2-2\"/><path class=\"cls-1\" d=\"M-83-559h690v690H-83z\"/></svg>"
  }
]

/**
 * Test des ic√¥nes avec le validateur
 */
export function testAllIcons() {
  console.log('üß™ Tests de validation des ic√¥nes Su Bank.json')
  console.log('=' .repeat(50))

  suBankData.forEach((su) => {
    console.log(`\nüìã SU ${su.Id}: ${su["Name Fr"]}`)
    console.log('-'.repeat(30))

    // Test Icon1
    if (su.Icon1) {
      console.log('\nüé® Icon1:')
      const result1 = validateAndSanitizeIcon(su.Icon1)
      if (!result1.isValid) {
        console.log('‚ùå √âCHEC:', result1.errors)
      } else {
        console.log('‚úÖ VALIDE')
      }
      if (result1.warnings.length > 0) {
        console.log('‚ö†Ô∏è Avertissements:', result1.warnings)
      }
    } else {
      console.log('üé® Icon1: Pas d\'ic√¥ne')
    }

    // Test Icon2
    if (su.Icon2) {
      console.log('\nüé® Icon2:')
      const result2 = validateAndSanitizeIcon(su.Icon2)
      if (!result2.isValid) {
        console.log('‚ùå √âCHEC:', result2.errors)
      } else {
        console.log('‚úÖ VALIDE')
      }
      if (result2.warnings.length > 0) {
        console.log('‚ö†Ô∏è Avertissements:', result2.warnings)
      }
    } else {
      console.log('üé® Icon2: Pas d\'ic√¥ne')
    }
  })
}

// Ex√©cuter les tests si appel√© directement
if (typeof require !== 'undefined' && require.main === module) {
  testAllIcons()
}